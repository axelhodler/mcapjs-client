!function(a,b,c){"use strict";b.module("mCAP",[]).run(["$http","$q","$rootScope","$timeout",function(a,d){if(!window.mCAP)throw new Error("Please include mCAP libary");c.ajax=function(c){c.method=c.type;var e=d.defer();return a.apply(b,[c]).then(function(a){c.success&&"function"==typeof c.success&&c.success(a),e.resolve(a)},function(a){c.error&&"function"==typeof c.error&&c.error(a),e.reject(a)}),e.promise}}]).provider("mCAPApplication",function(){var a=window.mCAP;return{setBaseUrl:function(b){a.application.set("baseUrl",b)},$get:function(){return window.mCAP.application}}}).service("MCAPAuthentication",function(){return window.mCAP.Authentication}).service("MCAPauthentication",function(){return window.mCAP.authentication}).service("MCAPauthenticatedUser",function(){return window.mCAP.authenticatedUser}).service("MCAPcurrentOrganization",function(){return window.mCAP.currentOrganization}).service("MCAPCountries",function(){return window.mCAP.Countries}).service("MCAPOrganization",function(){return window.mCAP.Organization}).service("MCAPUsers",function(){return window.mCAP.Users}).service("MCAPUser",function(){return window.mCAP.User}).service("MCAPRoles",function(){return window.mCAP.Roles}).service("MCAPRole",function(){return window.mCAP.Role}).service("MCAPGroups",function(){return window.mCAP.Groups}).service("MCAPGroup",function(){return window.mCAP.Group}).service("MCAP",function(){return window.mCAP}).service("MCAPCollection",function(){return window.mCAP.Collection}).service("MCAPEnumerableCollection",function(){return window.mCAP.EnumerableCollection}).service("MCAPModel",function(){return window.mCAP.Model}),function(){var a,d,e=c.Model.prototype.set,f=c.sync;b.module("mCAP").run(function(b,c){a=b,d=c}),c.Model.prototype.set=function(){var b=e.apply(this,arguments);return a&&a(function(){}),b},c.sync=function(a,b,e){var g=d.defer();return f.apply(c,[a,b,e]).then(function(){g.resolve(b)},function(a){g.reject(a)}),g.promise}}()}(window,angular,Backbone);